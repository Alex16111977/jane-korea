<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>–£—Ä–æ–∫ 20: –û–±—â–µ—Å—Ç–≤–æ –∏ –ø–æ–ª–∏—Ç–∏–∫–∞ (ÏÇ¨ÌöåÏôÄ Ï†ïÏπò)</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #2d3436, #636e72, #00b894, #0984e3);
            min-height: 100vh;
            color: #333;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        
        .nav {
            background: rgba(255,255,255,0.95);
            padding: 15px;
            border-radius: 15px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .nav a {
            background: #2d3436;
            color: white;
            padding: 10px 20px;
            text-decoration: none;
            border-radius: 10px;
            margin: 0 10px;
            display: inline-block;
            transition: all 0.3s;
        }
        
        .nav a:hover {
            background: #636e72;
            transform: translateY(-2px);
        }
        
        .lesson-header {
            background: rgba(255,255,255,0.95);
            padding: 30px;
            border-radius: 20px;
            text-align: center;
            margin-bottom: 25px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .lesson-header h1 {
            font-size: 2.5em;
            color: #2d3436;
            margin-bottom: 10px;
        }
        
        .politics-scene {
            position: relative;
            height: 120px;
            margin: 20px 0;
            overflow: hidden;
            border-radius: 15px;
            background: linear-gradient(to bottom, #e8f4fd, #d1ecf1);
        }
        
        .politics-icon {
            position: absolute;
            font-size: 2.5em;
            animation: march 10s linear infinite;
        }
        
        .politics1 {
            top: 20px;
            left: 5%;
            animation-delay: 0s;
        }
        
        .politics2 {
            top: 50px;
            left: 25%;
            animation-delay: -2s;
        }
        
        .politics3 {
            top: 30px;
            left: 45%;
            animation-delay: -4s;
        }
        
        .politics4 {
            top: 10px;
            left: 65%;
            animation-delay: -6s;
        }
        
        .politics5 {
            top: 40px;
            left: 85%;
            animation-delay: -8s;
        }
        
        .vocabulary-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .society-card {
            background: rgba(255,255,255,0.95);
            padding: 20px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: all 0.3s;
            cursor: pointer;
            position: relative;
            overflow: hidden;
        }
        
        .society-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: var(--card-color, #2d3436);
        }
        
        .society-card.government::before { background: linear-gradient(90deg, #2d3436, #636e72); }
        .society-card.democracy::before { background: linear-gradient(90deg, #0984e3, #74b9ff); }
        .society-card.law::before { background: linear-gradient(90deg, #6c5ce7, #a29bfe); }
        .society-card.economy::before { background: linear-gradient(90deg, #00b894, #00cec9); }
        .society-card.social::before { background: linear-gradient(90deg, #fdcb6e, #e17055); }
        
        .society-card:hover {
            transform: translateY(-5px) scale(1.02);
            box-shadow: 0 10px 25px rgba(0,0,0,0.15);
        }
        
        .society-emoji {
            font-size: 3em;
            text-align: center;
            margin-bottom: 10px;
            animation: political-pulse 4s ease-in-out infinite;
        }
        
        .korean-word {
            font-size: 1.8em;
            font-weight: bold;
            color: #2d3436;
            margin-bottom: 5px;
            text-align: center;
        }
        
        .pronunciation {
            font-size: 1.1em;
            color: #0984e3;
            margin-bottom: 10px;
            font-style: italic;
            text-align: center;
        }
        
        .translation {
            font-size: 1em;
            color: #666;
            text-align: center;
            margin-bottom: 15px;
        }
        
        .political-context {
            background: #f0f8ff;
            padding: 8px;
            border-radius: 6px;
            font-size: 0.85em;
            color: #0984e3;
            margin: 8px 0;
            border-left: 3px solid #2d3436;
        }
        
        .example-sentence {
            background: #f8f9fa;
            padding: 10px;
            border-radius: 8px;
            border-left: 3px solid #2d3436;
            font-size: 0.9em;
        }
        
        .korean-sentence {
            font-weight: bold;
            margin-bottom: 3px;
        }
        
        .speak-btn {
            background: #2d3436;
            border: none;
            padding: 5px 10px;
            border-radius: 5px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s;
            font-size: 0.9em;
            color: white;
        }
        
        .speak-btn:hover {
            background: #636e72;
        }
        
        .study-mode {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .mode-btn {
            background: #2d3436;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .mode-btn.active {
            background: #0984e3;
        }
        
        .filter-section {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .filter-btn {
            background: rgba(255,255,255,0.9);
            border: 2px solid #ddd;
            padding: 8px 15px;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .filter-btn.active {
            background: #2d3436;
            color: white;
            border-color: #2d3436;
        }
        
        .korean-politics {
            background: rgba(255,255,255,0.95);
            padding: 25px;
            border-radius: 20px;
            margin-bottom: 20px;
            text-align: center;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .politics-fact {
            background: #f8f9fa;
            padding: 15px;
            margin: 10px;
            border-radius: 10px;
            border-left: 4px solid #2d3436;
            display: inline-block;
            min-width: 250px;
            text-align: left;
        }
        
        .flashcard {
            background: rgba(255,255,255,0.95);
            padding: 40px;
            border-radius: 20px;
            margin-bottom: 20px;
            min-height: 250px;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            transition: all 0.3s;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
            position: relative;
        }
        
        .flashcard:hover {
            transform: rotateY(3deg) scale(1.02);
        }
        
        .flashcard.flipped {
            transform: rotateY(180deg);
        }
        
        .flashcard::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 4px;
            background: linear-gradient(90deg, #2d3436, #636e72);
            border-radius: 20px 20px 0 0;
        }
        
        @keyframes march {
            0% { transform: translateX(-50px); }
            100% { transform: translateX(calc(100vw + 50px)); }
        }
        
        @keyframes political-pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        /* –°—Ç–∏–ª–∏ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ */
        .test-container {
            background: rgba(255,255,255,0.95);
            padding: 30px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .test-header {
            text-align: center;
            margin-bottom: 25px;
            padding-bottom: 20px;
            border-bottom: 2px solid #e9ecef;
        }
        
        .test-stats {
            display: flex;
            justify-content: space-between;
            margin-top: 15px;
            font-size: 1.1em;
            font-weight: bold;
        }
        
        .test-selector {
            display: flex;
            gap: 10px;
            justify-content: center;
            margin-bottom: 30px;
            flex-wrap: wrap;
        }
        
        .test-type-btn {
            background: #f8f9fa;
            border: 2px solid #dee2e6;
            color: #495057;
            padding: 12px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .test-type-btn.active,
        .test-type-btn:hover {
            background: #2d3436;
            color: white;
            border-color: #2d3436;
            transform: translateY(-2px);
        }
        
        .test-content {
            min-height: 300px;
        }
        
        .test-question {
            font-size: 1.4em;
            font-weight: bold;
            text-align: center;
            margin-bottom: 30px;
            color: #2d3436;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            border-left: 4px solid #2d3436;
        }
        
        .test-answers {
            display: grid;
            gap: 15px;
            margin-bottom: 30px;
        }
        
        .answer-option {
            background: white;
            border: 2px solid #dee2e6;
            padding: 15px 20px;
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 1.1em;
            text-align: center;
        }
        
        .answer-option:hover {
            border-color: #2d3436;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
        }
        
        .answer-option.selected {
            background: #2d3436;
            color: white;
            border-color: #2d3436;
        }
        
        .answer-option.correct {
            background: #00b894;
            color: white;
            border-color: #00b894;
        }
        
        .answer-option.incorrect {
            background: #e17055;
            color: white;
            border-color: #e17055;
        }
        
        .answer-input {
            width: 100%;
            padding: 15px;
            font-size: 1.2em;
            border: 2px solid #dee2e6;
            border-radius: 10px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .answer-input:focus {
            outline: none;
            border-color: #2d3436;
        }
        
        .test-controls {
            text-align: center;
            margin-top: 20px;
        }
        
        .test-result {
            text-align: center;
            background: rgba(255,255,255,0.95);
            padding: 40px;
            border-radius: 20px;
            box-shadow: 0 8px 25px rgba(0,0,0,0.1);
        }
        
        .result-stats {
            margin: 30px 0;
        }
        
        .result-score {
            font-size: 2em;
            font-weight: bold;
            color: #2d3436;
            margin-bottom: 10px;
        }
        
        .result-percentage {
            font-size: 1.5em;
            color: #0984e3;
        }
        
        .result-actions {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        .feedback {
            padding: 15px;
            border-radius: 10px;
            margin: 15px 0;
            font-weight: bold;
            text-align: center;
        }
        
        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        
        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 1px solid #f5c6cb;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="nav">
            <a href="../index.html">‚Üê –ö 4Í∏â</a>
            <a href="../../index.html">üè† –ì–ª–∞–≤–Ω–∞—è</a>
        </div>
        
        <div class="lesson-header">
            <h1>üèõÔ∏è –£—Ä–æ–∫ 20: –û–±—â–µ—Å—Ç–≤–æ –∏ –ø–æ–ª–∏—Ç–∏–∫–∞ (ÏÇ¨ÌöåÏôÄ Ï†ïÏπò)</h1>
            <p>–ò–∑—É—á–∞–µ–º —Å–æ—Ü–∏–∞–ª—å–Ω—ã–µ –∏–Ω—Å—Ç–∏—Ç—É—Ç—ã –∏ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ç–µ—Ä–º–∏–Ω—ã</p>
            
            <div class="politics-scene">
                <div class="politics-icon politics1">üèõÔ∏è</div>
                <div class="politics-icon politics2">‚öñÔ∏è</div>
                <div class="politics-icon politics3">üó≥Ô∏è</div>
                <div class="politics-icon politics4">üìä</div>
                <div class="politics-icon politics5">ü§ù</div>
            </div>
        </div>
        
        <div class="korean-politics">
            <h3>üá∞üá∑ –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è —Å–∏—Å—Ç–µ–º–∞ –ö–æ—Ä–µ–∏</h3>
            <div class="politics-fact">
                <strong>ÎåÄÌÜµÎ†πÏ†ú (Presidential system)</strong><br>
                –ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∞—è —Ä–µ—Å–ø—É–±–ª–∏–∫–∞ —Å —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –≤–ª–∞—Å—Ç–µ–π
            </div>
            <div class="politics-fact">
                <strong>Íµ≠Ìöå (National Assembly)</strong><br>
                –û–¥–Ω–æ–ø–∞–ª–∞—Ç–Ω—ã–π –ø–∞—Ä–ª–∞–º–µ–Ω—Ç –∏–∑ 300 –¥–µ–ø—É—Ç–∞—Ç–æ–≤
            </div>
            <div class="politics-fact">
                <strong>ÌóåÎ≤ïÏû¨ÌåêÏÜå (Constitutional Court)</strong><br>
                –ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏–æ–Ω–Ω—ã–π —Å—É–¥ –∑–∞—â–∏—â–∞–µ—Ç –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–∫–æ–Ω
            </div>
        </div>
        
        <div class="study-mode">
            <button class="mode-btn active" onclick="showVocabulary()">üìö –ü–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–π —Å–ª–æ–≤–∞—Ä—å</button>
            <button class="mode-btn" onclick="showFlashcards()">üÉè –ö–∞—Ä—Ç–æ—á–∫–∏</button>
            <button class="mode-btn" onclick="showTests()">üß© –¢–µ—Å—Ç—ã</button>
        </div>
        
        <div class="filter-section" id="filter-section">
            <button class="filter-btn active" onclick="filterSociety('all')">–í—Å–µ</button>
            <button class="filter-btn" onclick="filterSociety('government')">üèõÔ∏è –í–ª–∞—Å—Ç—å</button>
            <button class="filter-btn" onclick="filterSociety('democracy')">üó≥Ô∏è –î–µ–º–æ–∫—Ä–∞—Ç–∏—è</button>
            <button class="filter-btn" onclick="filterSociety('law')">‚öñÔ∏è –ü—Ä–∞–≤–æ</button>
            <button class="filter-btn" onclick="filterSociety('economy')">üí∞ –≠–∫–æ–Ω–æ–º–∏–∫–∞</button>
            <button class="filter-btn" onclick="filterSociety('social')">ü§ù –û–±—â–µ—Å—Ç–≤–æ</button>
        </div>
        
        <div id="vocabulary-section">
            <div class="vocabulary-grid" id="vocabularyGrid">
                <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ JS -->
            </div>
        </div>
        
        <div id="flashcard-section" style="display: none;">
            <div class="flashcard" id="flashcard" onclick="flipCard()">
                <div id="flashcard-content">
                    <div class="society-emoji" id="flashcard-emoji">üèõÔ∏è</div>
                    <div class="korean-word" id="flashcard-korean">Ï†ïÎ∂Ä</div>
                    <button class="speak-btn" onclick="speak(document.getElementById('flashcard-korean').textContent)">üîä</button>
                </div>
            </div>
            <div style="text-align: center; margin-top: 20px;">
                <button class="mode-btn" onclick="prevCard()">‚Üê –ü—Ä–µ–¥—ã–¥—É—â–∞—è</button>
                <span id="card-counter">1 / 25</span>
                <button class="mode-btn" onclick="nextCard()">–°–ª–µ–¥—É—é—â–∞—è ‚Üí</button>
            </div>
            <div style="text-align: center; margin-top: 10px; color: #666;">
                <small>–ù–∞–∂–º–∏—Ç–µ –Ω–∞ –∫–∞—Ä—Ç–æ—á–∫—É –¥–ª—è –ø–µ—Ä–µ–≤–æ—Ä–æ—Ç–∞ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ü—Ä–æ–±–µ–ª</small>
            </div>
        </div>
        
        <div id="test-section" style="display: none;">
            <div class="test-container">
                <div class="test-header">
                    <h3>üß© –¢–µ—Å—Ç—ã –ø–æ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–æ–π –ª–µ–∫—Å–∏–∫–µ</h3>
                    <div class="test-stats">
                        <span id="test-score">–ü—Ä–∞–≤–∏–ª—å–Ω–æ: 0 / 0</span>
                        <span id="test-progress">–í–æ–ø—Ä–æ—Å 1 –∏–∑ 10</span>
                    </div>
                </div>
                
                <div class="test-selector">
                    <button class="test-type-btn active" onclick="startTest('multiple')">üìã –í—ã–±–æ—Ä –ø–µ—Ä–µ–≤–æ–¥–∞</button>
                    <button class="test-type-btn" onclick="startTest('input')">‚úèÔ∏è –í–≤–æ–¥ —Å–ª–æ–≤–∞</button>
                    <button class="test-type-btn" onclick="startTest('context')">üìù –ö–æ–Ω—Ç–µ–∫—Å—Ç</button>
                    <button class="test-type-btn" onclick="startTest('listening')">üëÇ –ù–∞ —Å–ª—É—Ö</button>
                </div>
                
                <div id="test-content" class="test-content">
                    <div class="test-question" id="test-question">
                        –í—ã–±–µ—Ä–∏—Ç–µ —Ç–∏–ø —Ç–µ—Å—Ç–∞ –≤—ã—à–µ
                    </div>
                    <div class="test-answers" id="test-answers">
                        <!-- –ë—É–¥–µ—Ç –∑–∞–ø–æ–ª–Ω–µ–Ω–æ JS -->
                    </div>
                    <div class="test-controls" id="test-controls" style="display: none;">
                        <button class="mode-btn" onclick="nextQuestion()">–°–ª–µ–¥—É—é—â–∏–π –≤–æ–ø—Ä–æ—Å ‚Üí</button>
                        <button class="mode-btn" onclick="showResult()">–ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç</button>
                    </div>
                </div>
                
                <div id="test-result" class="test-result" style="display: none;">
                    <h3>üéâ –†–µ–∑—É–ª—å—Ç–∞—Ç —Ç–µ—Å—Ç–∞</h3>
                    <div class="result-stats">
                        <div class="result-score" id="final-score"></div>
                        <div class="result-percentage" id="final-percentage"></div>
                    </div>
                    <div class="result-actions">
                        <button class="mode-btn" onclick="restartTest()">üîÑ –ü—Ä–æ–π—Ç–∏ –µ—â—ë —Ä–∞–∑</button>
                        <button class="mode-btn" onclick="showVocabulary()">üìö –ö —Å–ª–æ–≤–∞—Ä—é</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        const vocabulary = [
            // –í–ª–∞—Å—Ç—å
            {
                korean: 'Ï†ïÎ∂Ä', 
                pronunciation: '—á–æ–Ω–±—É', 
                translation: '–ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ',
                emoji: 'üèõÔ∏è',
                category: 'government',
                example: 'Ï†ïÎ∂ÄÍ∞Ä ÏÉàÎ°úÏö¥ Ï†ïÏ±ÖÏùÑ Î∞úÌëúÌñàÏñ¥Ïöî',
                exampleTranslation: '–ü—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–æ –æ–±—ä—è–≤–∏–ª–æ –Ω–æ–≤—É—é –ø–æ–ª–∏—Ç–∏–∫—É',
                politicalContext: '–¶–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π –æ—Ä–≥–∞–Ω –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –≤–ª–∞—Å—Ç–∏'
            },
            {
                korean: 'ÎåÄÌÜµÎ†π', 
                pronunciation: '–¥—ç—Ç—Ö–æ–Ω–Ω—ë–Ω', 
                translation: '–ø—Ä–µ–∑–∏–¥–µ–Ω—Ç',
                emoji: 'üëî',
                category: 'government',
                example: 'ÎåÄÌÜµÎ†πÏù¥ Íµ≠ÎØºÏóêÍ≤å Ïó∞ÏÑ§ÌñàÏñ¥Ïöî',
                exampleTranslation: '–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç –≤—ã—Å—Ç—É–ø–∏–ª —Å —Ä–µ—á—å—é –ø–µ—Ä–µ–¥ –Ω–∞—Ä–æ–¥–æ–º',
                politicalContext: '–ì–ª–∞–≤–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞, –∏–∑–±–∏—Ä–∞–µ—Ç—Å—è –Ω–∞ 5 –ª–µ—Ç'
            },
            {
                korean: 'Íµ≠Ìöå', 
                pronunciation: '–∫—É–∫—Ö–≤–µ', 
                translation: '–ø–∞—Ä–ª–∞–º–µ–Ω—Ç',
                emoji: 'üèõÔ∏è',
                category: 'government',
                example: 'Íµ≠ÌöåÏóêÏÑú Î≤ïÏïàÏùÑ ÎÖºÏùòÌï¥Ïöî',
                exampleTranslation: '–í –ø–∞—Ä–ª–∞–º–µ–Ω—Ç–µ –æ–±—Å—É–∂–¥–∞—é—Ç –∑–∞–∫–æ–Ω–æ–ø—Ä–æ–µ–∫—Ç',
                politicalContext: '–ó–∞–∫–æ–Ω–æ–¥–∞—Ç–µ–ª—å–Ω–∞—è –≤–ª–∞—Å—Ç—å, 300 –¥–µ–ø—É—Ç–∞—Ç–æ–≤'
            },
            {
                korean: 'Ïû•Í¥Ä', 
                pronunciation: '—á–∞–Ω–≥–≤–∞–Ω', 
                translation: '–º–∏–Ω–∏—Å—Ç—Ä',
                emoji: 'üíº',
                category: 'government',
                example: 'ÍµêÏú°Î∂Ä Ïû•Í¥ÄÏù¥ ÌöåÏùòÏóê Ï∞∏ÏÑùÌñàÏñ¥Ïöî',
                exampleTranslation: '–ú–∏–Ω–∏—Å—Ç—Ä –æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏—è —É—á–∞—Å—Ç–≤–æ–≤–∞–ª –≤ —Å–æ–≤–µ—â–∞–Ω–∏–∏',
                politicalContext: '–ì–ª–∞–≤—ã –º–∏–Ω–∏—Å—Ç–µ—Ä—Å—Ç–≤ –≤ –ø—Ä–∞–≤–∏—Ç–µ–ª—å—Å—Ç–≤–µ'
            },
            {
                korean: 'Í≥µÎ¨¥Ïõê', 
                pronunciation: '–∫–æ–Ω–º—É–≤–æ–Ω', 
                translation: '–≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π —Å–ª—É–∂–∞—â–∏–π',
                emoji: 'üë®‚Äçüíº',
                category: 'government',
                example: 'Í≥µÎ¨¥Ïõê ÏãúÌóòÏóê Ìï©Í≤©ÌñàÏñ¥Ïöî',
                exampleTranslation: '–°–¥–∞–ª —ç–∫–∑–∞–º–µ–Ω –Ω–∞ –≥–æ—Å—Å–ª—É–∂–∞—â–µ–≥–æ',
                politicalContext: '–†–∞–±–æ—Ç–Ω–∏–∫–∏ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –æ—Ä–≥–∞–Ω–æ–≤'
            },
            
            // –î–µ–º–æ–∫—Ä–∞—Ç–∏—è
            {
                korean: 'ÏÑ†Í±∞', 
                pronunciation: '—Å–æ–Ω–≥–æ', 
                translation: '–≤—ã–±–æ—Ä—ã',
                emoji: 'üó≥Ô∏è',
                category: 'democracy',
                example: 'ÎåÄÌÜµÎ†π ÏÑ†Í±∞Í∞Ä Îã§Ïùå Îã¨Ïóê ÏûàÏñ¥Ïöî',
                exampleTranslation: '–ü—Ä–µ–∑–∏–¥–µ–Ω—Ç—Å–∫–∏–µ –≤—ã–±–æ—Ä—ã –≤ —Å–ª–µ–¥—É—é—â–µ–º –º–µ—Å—è—Ü–µ',
                politicalContext: '–û—Å–Ω–æ–≤–∞ –¥–µ–º–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞'
            },
            {
                korean: 'Ìà¨Ìëú', 
                pronunciation: '—Ç—Ö—É–ø—Ö—ë', 
                translation: '–≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ',
                emoji: '‚òëÔ∏è',
                category: 'democracy',
                example: 'Ìà¨ÌëúÎäî ÎπÑÎ∞ÄÎ°ú Ìï¥Ïöî',
                exampleTranslation: '–ì–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–≤–æ–¥–∏—Ç—Å—è —Ç–∞–π–Ω–æ',
                politicalContext: '–ü—Ä–∞–≤–æ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å –≥—Ä–∞–∂–¥–∞–Ω'
            },
            {
                korean: 'ÌõÑÎ≥¥Ïûê', 
                pronunciation: '—Ö—É–±–æ–¥–∂–∞', 
                translation: '–∫–∞–Ω–¥–∏–¥–∞—Ç',
                emoji: 'üôã‚Äç‚ôÇÔ∏è',
                category: 'democracy',
                example: 'ÌõÑÎ≥¥ÏûêÍ∞Ä Ïó∞ÏÑ§ÏùÑ ÌñàÏñ¥Ïöî',
                exampleTranslation: '–ö–∞–Ω–¥–∏–¥–∞—Ç –ø—Ä–æ–∏–∑–Ω—ë—Å —Ä–µ—á—å',
                politicalContext: '–£—á–∞—Å—Ç–Ω–∏–∫ –∏–∑–±–∏—Ä–∞—Ç–µ–ª—å–Ω–æ–≥–æ –ø—Ä–æ—Ü–µ—Å—Å–∞'
            },
            {
                korean: 'Ïó¨Î°†', 
                pronunciation: '—ë—Ä–æ–Ω', 
                translation: '–æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–µ –º–Ω–µ–Ω–∏–µ',
                emoji: 'üí≠',
                category: 'democracy',
                example: 'Ïó¨Î°†Ï°∞ÏÇ¨ Í≤∞Í≥ºÍ∞Ä ÎÇòÏôîÏñ¥Ïöî',
                exampleTranslation: '–í—ã—à–ª–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –æ–ø—Ä–æ—Å–∞ –æ–±—â–µ—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –º–Ω–µ–Ω–∏—è',
                politicalContext: '–í–∞–∂–Ω—ã–π —Ñ–∞–∫—Ç–æ—Ä –≤ –¥–µ–º–æ–∫—Ä–∞—Ç–∏–∏'
            },
            {
                korean: 'Ï†ïÎãπ', 
                pronunciation: '—á–æ–Ω–¥–∞–Ω', 
                translation: '–ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∞—è –ø–∞—Ä—Ç–∏—è',
                emoji: 'üé™',
                category: 'democracy',
                example: 'Ïó¨Îü¨ Ï†ïÎãπÏù¥ ÏÑ†Í±∞Ïóê Ï∞∏Ïó¨Ìï¥Ïöî',
                exampleTranslation: '–ù–µ—Å–∫–æ–ª—å–∫–æ –ø–∞—Ä—Ç–∏–π —É—á–∞—Å—Ç–≤—É—é—Ç –≤ –≤—ã–±–æ—Ä–∞—Ö',
                politicalContext: '–û—Ä–≥–∞–Ω–∏–∑–æ–≤–∞–Ω–Ω—ã–µ –ø–æ–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ –≥—Ä—É–ø–ø—ã'
            },
            
            // –ü—Ä–∞–≤–æ
            {
                korean: 'Î≤ïÎ•†', 
                pronunciation: '–ø–æ—Ä–º—é–ª—å', 
                translation: '–∑–∞–∫–æ–Ω',
                emoji: '‚öñÔ∏è',
                category: 'law',
                example: 'ÏÉàÎ°úÏö¥ Î≤ïÎ•†Ïù¥ Ï†úÏ†ïÎêêÏñ¥Ïöî',
                exampleTranslation: '–ü—Ä–∏–Ω—è—Ç –Ω–æ–≤—ã–π –∑–∞–∫–æ–Ω',
                politicalContext: '–û—Å–Ω–æ–≤–∞ –ø—Ä–∞–≤–æ–≤–æ–≥–æ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞'
            },
            {
                korean: 'Ïû¨Ìåê', 
                pronunciation: '–¥–∂—ç–ø—Ö–∞–Ω', 
                translation: '—Å—É–¥, —Å—É–¥–µ–±–Ω—ã–π –ø—Ä–æ—Ü–µ—Å—Å',
                emoji: 'üèõÔ∏è',
                category: 'law',
                example: 'Ïû¨ÌåêÏù¥ ÎÇ¥Ïùº ÏãúÏûëÎèºÏöî',
                exampleTranslation: '–°—É–¥ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è –∑–∞–≤—Ç—Ä–∞',
                politicalContext: '–°—É–¥–µ–±–Ω–∞—è –≤–ª–∞—Å—Ç—å –≤ –¥–µ–π—Å—Ç–≤–∏–∏'
            },
            {
                korean: 'ÌåêÏÇ¨', 
                pronunciation: '–ø—Ö–∞–Ω—Å–∞', 
                translation: '—Å—É–¥—å—è',
                emoji: 'üë®‚Äç‚öñÔ∏è',
                category: 'law',
                example: 'ÌåêÏÇ¨Í∞Ä ÌåêÍ≤∞ÏùÑ ÎÇ¥Î†∏Ïñ¥Ïöî',
                exampleTranslation: '–°—É–¥—å—è –≤—ã–Ω–µ—Å –ø—Ä–∏–≥–æ–≤–æ—Ä',
                politicalContext: '–ù–µ–∑–∞–≤–∏—Å–∏–º–∞—è —Å—É–¥–µ–±–Ω–∞—è –≤–ª–∞—Å—Ç—å'
            },
            {
                korean: 'ÌóåÎ≤ï', 
                pronunciation: '—Ö–æ–Ω–±–æ–ø', 
                translation: '–∫–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è',
                emoji: 'üìú',
                category: 'law',
                example: 'ÌóåÎ≤ïÏù¥ Íµ≠Í∞ÄÏùò Í∏∞Î≥∏Î≤ïÏù¥ÏóêÏöî',
                exampleTranslation: '–ö–æ–Ω—Å—Ç–∏—Ç—É—Ü–∏—è - –æ—Å–Ω–æ–≤–Ω–æ–π –∑–∞–∫–æ–Ω –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞',
                politicalContext: '–í—ã—Å—à–∏–π –∑–∞–∫–æ–Ω —Å—Ç—Ä–∞–Ω—ã'
            },
            {
                korean: 'Ïù∏Í∂å', 
                pronunciation: '–∏–Ω–∫–≤–æ–Ω', 
                translation: '–ø—Ä–∞–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞',
                emoji: '‚úä',
                category: 'law',
                example: 'Ïù∏Í∂åÏùÑ Î≥¥Ìò∏Ìï¥Ïïº Ìï¥Ïöî',
                exampleTranslation: '–ù—É–∂–Ω–æ –∑–∞—â–∏—â–∞—Ç—å –ø—Ä–∞–≤–∞ —á–µ–ª–æ–≤–µ–∫–∞',
                politicalContext: '–û—Å–Ω–æ–≤–∞ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–µ–º–æ–∫—Ä–∞—Ç–∏–∏'
            },
            
            // –≠–∫–æ–Ω–æ–º–∏–∫–∞
            {
                korean: 'Í≤ΩÏ†ú', 
                pronunciation: '–∫—ë–Ω–¥–∂—ç', 
                translation: '—ç–∫–æ–Ω–æ–º–∏–∫–∞',
                emoji: 'üí∞',
                category: 'economy',
                example: 'Í≤ΩÏ†úÍ∞Ä ÏÑ±Ïû•ÌïòÍ≥† ÏûàÏñ¥Ïöî',
                exampleTranslation: '–≠–∫–æ–Ω–æ–º–∏–∫–∞ —Ä–∞—Å—Ç—ë—Ç',
                politicalContext: '–û—Å–Ω–æ–≤–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ –±–ª–∞–≥–æ—Å–æ—Å—Ç–æ—è–Ω–∏—è'
            },
            {
                korean: 'ÏÑ∏Í∏à', 
                pronunciation: '—Å–µ–≥—ã–º', 
                translation: '–Ω–∞–ª–æ–≥–∏',
                emoji: 'üí∏',
                category: 'economy',
                example: 'ÏÑ∏Í∏àÏùÑ ÎÇ¥Ïïº Ìï¥Ïöî',
                exampleTranslation: '–ù—É–∂–Ω–æ –ø–ª–∞—Ç–∏—Ç—å –Ω–∞–ª–æ–≥–∏',
                politicalContext: '–ò—Å—Ç–æ—á–Ω–∏–∫ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö –¥–æ—Ö–æ–¥–æ–≤'
            },
            {
                korean: 'ÏòàÏÇ∞', 
                pronunciation: '–µ—Å–∞–Ω', 
                translation: '–±—é–¥–∂–µ—Ç',
                emoji: 'üìä',
                category: 'economy',
                example: 'Íµ≠Í∞Ä ÏòàÏÇ∞ÏùÑ ÏäπÏù∏ÌñàÏñ¥Ïöî',
                exampleTranslation: '–£—Ç–≤–µ—Ä–¥–∏–ª–∏ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã–π –±—é–¥–∂–µ—Ç',
                politicalContext: '–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–µ–Ω–Ω—ã—Ö —Ä–∞—Å—Ö–æ–¥–æ–≤'
            },
            {
                korean: 'Î≥µÏßÄ', 
                pronunciation: '–ø–æ–∫—á–∏', 
                translation: '—Å–æ—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ',
                emoji: 'üè•',
                category: 'economy',
                example: 'ÏÇ¨Ìöå Î≥µÏßÄÍ∞Ä Ï§ëÏöîÌï¥Ïöî',
                exampleTranslation: '–°–æ—Ü–∏–∞–ª—å–Ω–æ–µ –æ–±–µ—Å–ø–µ—á–µ–Ω–∏–µ –≤–∞–∂–Ω–æ',
                politicalContext: '–ó–∞–±–æ—Ç–∞ –≥–æ—Å—É–¥–∞—Ä—Å—Ç–≤–∞ –æ –≥—Ä–∞–∂–¥–∞–Ω–∞—Ö'
            },
            {
                korean: 'Ïã§ÏóÖ', 
                pronunciation: '—Å–∏—Ä–æ–ø', 
                translation: '–±–µ–∑—Ä–∞–±–æ—Ç–∏—Ü–∞',
                emoji: 'üìâ',
                category: 'economy',
                example: 'Ïã§ÏóÖÎ•†Ïù¥ ÎÇÆÏïÑÏ°åÏñ¥Ïöî',
                exampleTranslation: '–£—Ä–æ–≤–µ–Ω—å –±–µ–∑—Ä–∞–±–æ—Ç–∏—Ü—ã —Å–Ω–∏–∑–∏–ª—Å—è',
                politicalContext: '–í–∞–∂–Ω—ã–π —Å–æ—Ü–∏–∞–ª—å–Ω–æ-—ç–∫–æ–Ω–æ–º–∏—á–µ—Å–∫–∏–π –ø–æ–∫–∞–∑–∞—Ç–µ–ª—å'
            },
            
            // –û–±—â–µ—Å—Ç–≤–æ
            {
                korean: 'ÏãúÎØº', 
                pronunciation: '—Å–∏–º–∏–Ω—å', 
                translation: '–≥—Ä–∞–∂–¥–∞–Ω–∏–Ω',
                emoji: 'üë•',
                category: 'social',
                example: 'ÏãúÎØºÏùò Í∂åÎ¶¨ÏôÄ ÏùòÎ¨¥Í∞Ä ÏûàÏñ¥Ïöî',
                exampleTranslation: '–£ –≥—Ä–∞–∂–¥–∞–Ω –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –∏ –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç–∏',
                politicalContext: '–û—Å–Ω–æ–≤–∞ –¥–µ–º–æ–∫—Ä–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –æ–±—â–µ—Å—Ç–≤–∞'
            },
            {
                korean: 'ÏÇ¨Ìöå', 
                pronunciation: '—Å–∞—Ö–≤–µ', 
                translation: '–æ–±—â–µ—Å—Ç–≤–æ',
                emoji: 'üèòÔ∏è',
                category: 'social',
                example: 'ÏÇ¨ÌöåÍ∞Ä Î≥ÄÌôîÌïòÍ≥† ÏûàÏñ¥Ïöî',
                exampleTranslation: '–û–±—â–µ—Å—Ç–≤–æ –º–µ–Ω—è–µ—Ç—Å—è',
                politicalContext: '–°–æ–≤–æ–∫—É–ø–Ω–æ—Å—Ç—å –≤—Å–µ—Ö —Å–æ—Ü–∏–∞–ª—å–Ω—ã—Ö –æ—Ç–Ω–æ—à–µ–Ω–∏–π'
            },
            {
                korean: 'Î¨∏Ìôî', 
                pronunciation: '–º—É–Ω—Ö–≤–∞', 
                translation: '–∫—É–ª—å—Ç—É—Ä–∞',
                emoji: 'üé≠',
                category: 'social',
                example: 'ÌïúÍµ≠ Î¨∏ÌôîÎ•º Î∞∞ÏõåÏöî',
                exampleTranslation: '–ò–∑—É—á–∞—é –∫–æ—Ä–µ–π—Å–∫—É—é –∫—É–ª—å—Ç—É—Ä—É',
                politicalContext: '–î—É—Ö–æ–≤–Ω–∞—è –æ—Å–Ω–æ–≤–∞ –Ω–∞—Ü–∏–∏'
            },
            {
                korean: 'ÍµêÏú°', 
                pronunciation: '–∫—ë—É–∫', 
                translation: '–æ–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ',
                emoji: 'üìö',
                category: 'social',
                example: 'ÍµêÏú°Ïù¥ ÎØ∏ÎûòÎ•º ÎßåÎì§Ïñ¥Ïöî',
                exampleTranslation: '–û–±—Ä–∞–∑–æ–≤–∞–Ω–∏–µ —Å–æ–∑–¥–∞—ë—Ç –±—É–¥—É—â–µ–µ',
                politicalContext: '–ò–Ω–≤–µ—Å—Ç–∏—Ü–∏—è –≤ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏–π –∫–∞–ø–∏—Ç–∞–ª'
            },
            {
                korean: 'ÌèâÎì±', 
                pronunciation: '–ø—Ö—ë–Ω–¥—ã–Ω', 
                translation: '—Ä–∞–≤–µ–Ω—Å—Ç–≤–æ',
                emoji: '‚öñÔ∏è',
                category: 'social',
                example: 'ÏÑ±Î≥Ñ ÌèâÎì±Ïù¥ Ï§ëÏöîÌï¥Ïöî',
                exampleTranslation: '–ì–µ–Ω–¥–µ—Ä–Ω–æ–µ —Ä–∞–≤–µ–Ω—Å—Ç–≤–æ –≤–∞–∂–Ω–æ',
                politicalContext: '–û—Å–Ω–æ–≤–Ω–æ–π –ø—Ä–∏–Ω—Ü–∏–ø —Å–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ–≥–æ –æ–±—â–µ—Å—Ç–≤–∞'
            },
            {
                korean: 'ÏûêÏú†', 
                pronunciation: '—á–∞—é', 
                translation: '—Å–≤–æ–±–æ–¥–∞',
                emoji: 'üïäÔ∏è',
                category: 'social',
                example: 'ÌëúÌòÑÏùò ÏûêÏú†Î•º Î≥¥Ïû•Ìï¥Ïöî',
                exampleTranslation: '–ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º —Å–≤–æ–±–æ–¥—É –≤—ã—Ä–∞–∂–µ–Ω–∏—è',
                politicalContext: '–§—É–Ω–¥–∞–º–µ–Ω—Ç–∞–ª—å–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–µ–º–æ–∫—Ä–∞—Ç–∏–∏'
            }
        ];
        
        let filteredVocabulary = vocabulary;
        let currentCardIndex = 0;
        let isFlipped = false;
        
        function loadVocabulary() {
            const grid = document.getElementById('vocabularyGrid');
            grid.innerHTML = '';
            
            filteredVocabulary.forEach((word, index) => {
                const card = document.createElement('div');
                card.className = `society-card ${word.category}`;
                card.innerHTML = `
                    <div class="society-emoji">${word.emoji}</div>
                    <div class="korean-word">${word.korean}</div>
                    <div class="pronunciation">${word.pronunciation}</div>
                    <div class="translation">${word.translation}</div>
                    <div class="political-context">üèõÔ∏è ${word.politicalContext}</div>
                    <div class="example-sentence">
                        <div class="korean-sentence">${word.example}</div>
                        <div>${word.exampleTranslation}</div>
                    </div>
                    <button class="speak-btn" onclick="speak('${word.korean}')">üîä –°–ª–æ–≤–æ</button>
                    <button class="speak-btn" onclick="speak('${word.example}')">üîä –ü—Ä–∏–º–µ—Ä</button>
                `;
                grid.appendChild(card);
                
                // –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è
                setTimeout(() => {
                    card.style.opacity = '0';
                    card.style.transform = 'translateY(20px)';
                    card.style.transition = 'all 0.5s ease';
                    setTimeout(() => {
                        card.style.opacity = '1';
                        card.style.transform = 'translateY(0)';
                    }, 50);
                }, index * 100);
            });
        }
        
        function filterSociety(category) {
            document.querySelectorAll('.filter-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            if (category === 'all') {
                filteredVocabulary = vocabulary;
            } else {
                filteredVocabulary = vocabulary.filter(word => word.category === category);
            }
            
            loadVocabulary();
        }
        
        function speak(text) {
            if ('speechSynthesis' in window) {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = 'ko-KR';
                utterance.rate = 0.8;
                speechSynthesis.speak(utterance);
            }
        }
        
        function showVocabulary() {
            document.getElementById('vocabulary-section').style.display = 'block';
            document.getElementById('flashcard-section').style.display = 'none';
            document.getElementById('filter-section').style.display = 'flex';
            updateActiveButton(0);
        }
        
        function showFlashcards() {
            document.getElementById('vocabulary-section').style.display = 'none';
            document.getElementById('flashcard-section').style.display = 'block';
            document.getElementById('filter-section').style.display = 'none';
            updateActiveButton(1);
            updateFlashcard();
        }
        
        function updateFlashcard() {
            const word = vocabulary[currentCardIndex];
            const flashcard = document.getElementById('flashcard');
            const content = document.getElementById('flashcard-content');
            
            if (isFlipped) {
                content.innerHTML = `
                    <div class="society-emoji">${word.emoji}</div>
                    <div class="pronunciation">${word.pronunciation}</div>
                    <div class="translation">${word.translation}</div>
                    <div class="political-context" style="margin: 15px 0; max-width: 300px;">üèõÔ∏è ${word.politicalContext}</div>
                    <div class="example-sentence" style="margin-top: 15px;">
                        <div class="korean-sentence">${word.example}</div>
                        <div style="font-size: 0.9em; color: #666;">${word.exampleTranslation}</div>
                    </div>
                `;
            } else {
                content.innerHTML = `
                    <div class="society-emoji">${word.emoji}</div>
                    <div class="korean-word">${word.korean}</div>
                    <button class="speak-btn" onclick="speak('${word.korean}')">üîä –°–ª–æ–≤–æ</button>
                `;
            }
            
            document.getElementById('card-counter').textContent = `${currentCardIndex + 1} / ${vocabulary.length}`;
        }
        
        function flipCard() {
            isFlipped = !isFlipped;
            const flashcard = document.getElementById('flashcard');
            flashcard.style.transform = isFlipped ? 'rotateY(180deg)' : 'rotateY(0deg)';
            setTimeout(() => {
                updateFlashcard();
                flashcard.style.transform = 'rotateY(0deg)';
            }, 150);
        }
        
        function nextCard() {
            currentCardIndex = (currentCardIndex + 1) % vocabulary.length;
            isFlipped = false;
            updateFlashcard();
        }
        
        function prevCard() {
            currentCardIndex = (currentCardIndex - 1 + vocabulary.length) % vocabulary.length;
            isFlipped = false;
            updateFlashcard();
        }
        
        function updateActiveButton(index) {
            const buttons = document.querySelectorAll('.mode-btn');
            buttons.forEach((btn, i) => {
                if (i === index) {
                    btn.classList.add('active');
                } else {
                    btn.classList.remove('active');
                }
            });
        }
        
        function showTests() {
            document.getElementById('vocabulary-section').style.display = 'none';
            document.getElementById('flashcard-section').style.display = 'none';
            document.getElementById('test-section').style.display = 'block';
            document.getElementById('filter-section').style.display = 'none';
            updateActiveButton(2);
        }
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –¥–ª—è —Ç–µ—Å—Ç–æ–≤
        let currentTest = null;
        let currentQuestionIndex = 0;
        let testQuestions = [];
        let correctAnswers = 0;
        let userAnswers = [];
        let isAnswered = false;
        
        function startTest(type) {
            currentTest = type;
            currentQuestionIndex = 0;
            correctAnswers = 0;
            userAnswers = [];
            isAnswered = false;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–Ω–æ–ø–∫—É —Ç–∏–ø–∞ —Ç–µ—Å—Ç–∞
            document.querySelectorAll('.test-type-btn').forEach(btn => btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–æ–ø—Ä–æ—Å—ã
            generateTestQuestions(type);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Ç–µ—Å—Ç–∞
            document.getElementById('test-content').style.display = 'block';
            document.getElementById('test-result').style.display = 'none';
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–µ—Ä–≤—ã–π –≤–æ–ø—Ä–æ—Å
            showQuestion();
        }
        
        function generateTestQuestions(type) {
            const shuffled = [...vocabulary].sort(() => 0.5 - Math.random());
            testQuestions = shuffled.slice(0, 10);
            
            testQuestions.forEach((question, index) => {
                if (type === 'multiple') {
                    // –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –æ—Ç–≤–µ—Ç–æ–≤
                    const wrongAnswers = vocabulary
                        .filter(w => w.korean !== question.korean)
                        .sort(() => 0.5 - Math.random())
                        .slice(0, 3)
                        .map(w => w.translation);
                    
                    question.options = [question.translation, ...wrongAnswers]
                        .sort(() => 0.5 - Math.random());
                    question.correctAnswer = question.translation;
                } else if (type === 'context') {
                    // –î–ª—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–Ω—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤
                    const wrongWords = vocabulary
                        .filter(w => w.korean !== question.korean && w.category === question.category)
                        .sort(() => 0.5 - Math.random())
                        .slice(0, 3)
                        .map(w => w.korean);
                    
                    question.options = [question.korean, ...wrongWords]
                        .sort(() => 0.5 - Math.random());
                    question.correctAnswer = question.korean;
                }
            });
        }
        
        function showQuestion() {
            const question = testQuestions[currentQuestionIndex];
            const questionEl = document.getElementById('test-question');
            const answersEl = document.getElementById('test-answers');
            const controlsEl = document.getElementById('test-controls');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –ø—Ä–æ–≥—Ä–µ—Å—Å
            document.getElementById('test-progress').textContent = 
                `–í–æ–ø—Ä–æ—Å ${currentQuestionIndex + 1} –∏–∑ ${testQuestions.length}`;
            document.getElementById('test-score').textContent = 
                `–ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${correctAnswers} / ${currentQuestionIndex}`;
            
            isAnswered = false;
            controlsEl.style.display = 'none';
            
            if (currentTest === 'multiple') {
                questionEl.innerHTML = `
                    <div style="font-size: 1.2em; margin-bottom: 15px;">
                        –ö–∞–∫ –ø–µ—Ä–µ–≤–æ–¥–∏—Ç—Å—è: <strong style="color: #2d3436;">${question.korean}</strong> <button class="speak-btn" onclick="speak('${question.korean}')">üîä</button>
                    </div>
                    <div style="font-style: italic; color: #666;">[${question.pronunciation}]</div>
                `;
                
                answersEl.innerHTML = question.options.map((option, index) => 
                    `<div class="answer-option" onclick="selectAnswer('${option}', '${question.correctAnswer}')">${option}</div>`
                ).join('');
                
            } else if (currentTest === 'input') {
                questionEl.innerHTML = `
                    <div style="font-size: 1.2em; margin-bottom: 15px;">
                        –ù–∞–ø–∏—à–∏—Ç–µ –∫–æ—Ä–µ–π—Å–∫–æ–µ —Å–ª–æ–≤–æ –¥–ª—è: <strong style="color: #2d3436;">${question.translation}</strong>
                    </div>
                    <div style="font-style: italic; color: #666;">–ü—Ä–æ–∏–∑–Ω–æ—à–µ–Ω–∏–µ: [${question.pronunciation}]</div>
                `;
                
                answersEl.innerHTML = `
                    <input type="text" class="answer-input" id="answer-input" 
                           placeholder="–í–≤–µ–¥–∏—Ç–µ –∫–æ—Ä–µ–π—Å–∫–æ–µ —Å–ª–æ–≤–æ..." 
                           onkeypress="if(event.key==='Enter') checkInputAnswer('${question.korean}')">
                    <button class="mode-btn" onclick="checkInputAnswer('${question.korean}')">–ü—Ä–æ–≤–µ—Ä–∏—Ç—å</button>
                `;
                
            } else if (currentTest === 'context') {
                questionEl.innerHTML = `
                    <div style="font-size: 1.2em; margin-bottom: 15px;">
                        –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ–µ —Å–ª–æ–≤–æ –¥–ª—è –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è:
                    </div>
                    <div style="font-size: 1.1em; padding: 15px; background: #f8f9fa; border-radius: 8px; margin: 15px 0;">
                        ${question.example.replace(question.korean, '<strong style="color: #e17055;">[ ? ]</strong>')}
                    </div>
                    <div style="font-style: italic; color: #666;">${question.exampleTranslation}</div>
                `;
                
                answersEl.innerHTML = question.options.map((option, index) => 
                    `<div class="answer-option" onclick="selectAnswer('${option}', '${question.correctAnswer}')">
                        ${option} <button class="speak-btn" onclick="speak('${option}')">üîä</button>
                    </div>`
                ).join('');
                
            } else if (currentTest === 'listening') {
                questionEl.innerHTML = `
                    <div style="font-size: 1.2em; margin-bottom: 20px;">
                        –ü—Ä–æ—Å–ª—É—à–∞–π—Ç–µ –∏ –≤—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ–≤–æ–¥:
                    </div>
                    <button class="mode-btn" onclick="speak('${question.korean}')" 
                            style="font-size: 1.5em; padding: 20px 40px; margin: 20px;">üîä –í–æ—Å–ø—Ä–æ–∏–∑–≤–µ—Å—Ç–∏</button>
                `;
                
                // –°–æ–∑–¥–∞–µ–º –≤–∞—Ä–∏–∞–Ω—Ç—ã –∫–∞–∫ –¥–ª—è multiple choice
                const wrongAnswers = vocabulary
                    .filter(w => w.korean !== question.korean)
                    .sort(() => 0.5 - Math.random())
                    .slice(0, 3)
                    .map(w => w.translation);
                
                const options = [question.translation, ...wrongAnswers]
                    .sort(() => 0.5 - Math.random());
                
                answersEl.innerHTML = options.map((option, index) => 
                    `<div class="answer-option" onclick="selectAnswer('${option}', '${question.translation}')">${option}</div>`
                ).join('');
            }
        }
        
        function selectAnswer(selected, correct) {
            if (isAnswered) return;
            
            isAnswered = true;
            const isCorrect = selected === correct;
            
            if (isCorrect) {
                correctAnswers++;
            }
            
            userAnswers.push({
                question: testQuestions[currentQuestionIndex],
                selected: selected,
                correct: correct,
                isCorrect: isCorrect
            });
            
            // –ü–æ–¥—Å–≤–µ—á–∏–≤–∞–µ–º –æ—Ç–≤–µ—Ç—ã
            document.querySelectorAll('.answer-option').forEach(option => {
                if (option.textContent.trim().startsWith(correct)) {
                    option.classList.add('correct');
                } else if (option.textContent.trim().startsWith(selected) && !isCorrect) {
                    option.classList.add('incorrect');
                }
                option.style.pointerEvents = 'none';
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
            const feedback = document.createElement('div');
            feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = isCorrect ? 
                '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!' : 
                `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correct}`;
            
            document.getElementById('test-answers').appendChild(feedback);
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è
            document.getElementById('test-controls').style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
            document.getElementById('test-score').textContent = 
                `–ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${correctAnswers} / ${currentQuestionIndex + 1}`;
        }
        
        function checkInputAnswer(correct) {
            if (isAnswered) return;
            
            const input = document.getElementById('answer-input');
            const userAnswer = input.value.trim();
            const isCorrect = userAnswer === correct;
            
            isAnswered = true;
            
            if (isCorrect) {
                correctAnswers++;
            }
            
            userAnswers.push({
                question: testQuestions[currentQuestionIndex],
                selected: userAnswer,
                correct: correct,
                isCorrect: isCorrect
            });
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –æ–±—Ä–∞—Ç–Ω—É—é —Å–≤—è–∑—å
            const feedback = document.createElement('div');
            feedback.className = `feedback ${isCorrect ? 'correct' : 'incorrect'}`;
            feedback.innerHTML = isCorrect ? 
                '‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ!' : 
                `‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ. –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π –æ—Ç–≤–µ—Ç: ${correct}`;
            
            document.getElementById('test-answers').appendChild(feedback);
            
            input.disabled = true;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–Ω–æ–ø–∫—É –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏—è
            document.getElementById('test-controls').style.display = 'block';
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —Å—á–µ—Ç—á–∏–∫
            document.getElementById('test-score').textContent = 
                `–ü—Ä–∞–≤–∏–ª—å–Ω–æ: ${correctAnswers} / ${currentQuestionIndex + 1}`;
        }
        
        function nextQuestion() {
            currentQuestionIndex++;
            
            if (currentQuestionIndex < testQuestions.length) {
                showQuestion();
            } else {
                showResult();
            }
        }
        
        function showResult() {
            const percentage = Math.round((correctAnswers / testQuestions.length) * 100);
            
            document.getElementById('test-content').style.display = 'none';
            document.getElementById('test-result').style.display = 'block';
            
            document.getElementById('final-score').textContent = 
                `${correctAnswers} –∏–∑ ${testQuestions.length}`;
            document.getElementById('final-percentage').textContent = `${percentage}%`;
            
            // –ú–µ–Ω—è–µ–º —Ü–≤–µ—Ç –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞
            const scoreEl = document.getElementById('final-score');
            const percentageEl = document.getElementById('final-percentage');
            
            if (percentage >= 80) {
                scoreEl.style.color = '#00b894';
                percentageEl.style.color = '#00b894';
            } else if (percentage >= 60) {
                scoreEl.style.color = '#fdcb6e';
                percentageEl.style.color = '#fdcb6e';
            } else {
                scoreEl.style.color = '#e17055';
                percentageEl.style.color = '#e17055';
            }
        }
        
        function restartTest() {
            if (currentTest) {
                startTest(currentTest);
            }
        }
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        document.addEventListener('DOMContentLoaded', function() {
            loadVocabulary();
            updateFlashcard();
        });
        
        // –ì–æ—Ä—è—á–∏–µ –∫–ª–∞–≤–∏—à–∏
        document.addEventListener('keydown', function(e) {
            if (document.getElementById('flashcard-section').style.display !== 'none') {
                if (e.code === 'Space') {
                    e.preventDefault();
                    flipCard();
                } else if (e.code === 'ArrowRight') {
                    nextCard();
                } else if (e.code === 'ArrowLeft') {
                    prevCard();
                }
            }
        });
    </script>
</body>
</html>