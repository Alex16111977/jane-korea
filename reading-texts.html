<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üìö ÌÖçÏä§Ìä∏Î°ú Î∞∞Ïö∞Í∏∞ - –ò–∑—É—á–µ–Ω–∏–µ –∫–æ—Ä–µ–π—Å–∫–æ–≥–æ —Å —Ç–µ–∫—Å—Ç–∞–º–∏</title>
    <link href="css/style.css" rel="stylesheet"/>
    <link rel="stylesheet" href="css/progress.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@300;400;500;700&display=swap');
        
        body {
            font-family: 'Noto Sans KR', 'Malgun Gothic', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            color: #333;
            margin: 0;
            padding: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .header {
            text-align: center;
            margin-bottom: 40px;
            color: white;
            padding: 40px 20px;
        }

        .header h1 {
            font-size: 2.5em;
            margin-bottom: 10px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .header .subtitle {
            font-size: 1.2em;
            opacity: 0.9;
            margin-bottom: 20px;
        }

        .back-button {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(255,255,255,0.9);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(102, 126, 234, 0.8);
            color: #667eea;
            padding: 12px 20px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            transition: all 0.3s ease;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0,0,0,0.15);
        }

        .back-button:hover {
            background: #667eea;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 6px 16px rgba(0,0,0,0.2);
        }

        .breadcrumb {
            background: rgba(255,255,255,0.1);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255,255,255,0.2);
            border-radius: 15px;
            padding: 15px 25px;
            margin-bottom: 30px;
            color: white;
            text-align: center;
            font-size: 1.1em;
        }

        .step-indicator {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-bottom: 40px;
            flex-wrap: wrap;
        }

        .step {
            background: rgba(255,255,255,0.1);
            border: 2px solid rgba(255,255,255,0.3);
            color: rgba(255,255,255,0.7);
            padding: 10px 20px;
            border-radius: 25px;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .step.active {
            background: rgba(255,255,255,0.9);
            color: #667eea;
            border-color: white;
        }

        .step.completed {
            background: rgba(76, 175, 80, 0.8);
            color: white;
            border-color: #4caf50;
        }

        /* –£—Ä–æ–≤–Ω–∏ */
        .levels-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .level-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            border-top: 6px solid transparent;
            position: relative;
            overflow: hidden;
        }

        .level-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(255, 255, 255, 0.1) 100%);
            z-index: 0;
        }

        .level-card > * {
            position: relative;
            z-index: 1;
        }

        .level-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .level-1 { border-top-color: #4caf50; }
        .level-2 { border-top-color: #8bc34a; }
        .level-3 { border-top-color: #ffc107; }
        .level-4 { border-top-color: #ff9800; }
        .level-5 { border-top-color: #f44336; }
        .level-6 { border-top-color: #9c27b0; }

        .level-number {
            font-size: 3em;
            font-weight: bold;
            margin-bottom: 15px;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .level-name {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .level-korean {
            font-size: 1.1em;
            color: #667eea;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .level-description {
            color: #666;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .level-texts-count {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        /* –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ */
        .categories-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .category-card {
            background: white;
            border-radius: 20px;
            padding: 30px;
            text-align: center;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .category-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.05) 0%, rgba(255, 255, 255, 0.1) 100%);
            z-index: 0;
        }

        .category-card > * {
            position: relative;
            z-index: 1;
        }

        .category-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
        }

        .category-icon {
            font-size: 3em;
            margin-bottom: 20px;
        }

        .category-name {
            font-size: 1.4em;
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }

        .category-korean {
            font-size: 1.1em;
            color: #667eea;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .category-description {
            color: #666;
            line-height: 1.5;
            margin-bottom: 20px;
        }

        .category-texts-count {
            background: rgba(102, 126, 234, 0.1);
            color: #667eea;
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9em;
            font-weight: bold;
        }

        /* –°–ø–∏—Å–æ–∫ —Ç–µ–∫—Å—Ç–æ–≤ */
        .texts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 25px;
            margin-bottom: 40px;
        }

        .text-card {
            background: white;
            border-radius: 20px;
            padding: 25px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            border-left: 6px solid #667eea;
        }

        .text-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(135deg, rgba(102, 126, 234, 0.03) 0%, rgba(255, 255, 255, 0.1) 100%);
            z-index: 0;
        }

        .text-card > * {
            position: relative;
            z-index: 1;
        }

        .text-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0,0,0,0.15);
            border-left-color: #764ba2;
        }

        .text-number {
            background: #667eea;
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2em;
            margin-bottom: 15px;
        }

        .text-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 8px;
            color: #2c3e50;
            line-height: 1.3;
        }

        .text-subtitle {
            font-size: 1em;
            color: #667eea;
            margin-bottom: 15px;
            font-weight: 500;
        }

        .text-preview {
            color: #666;
            line-height: 1.5;
            margin-bottom: 20px;
            font-size: 0.95em;
        }

        /* Progress Indicators */
        .text-card.completed {
            border-left: 6px solid #4caf50;
            background: linear-gradient(135deg, rgba(76, 175, 80, 0.05) 0%, rgba(255, 255, 255, 0.1) 100%);
        }

        .completion-badge {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #4caf50;
            color: white;
            width: 35px;
            height: 35px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 18px;
            box-shadow: 0 2px 8px rgba(76, 175, 80, 0.4);
            z-index: 10;
        }

        .progress-info {
            font-size: 0.85em;
            color: #4caf50;
            margin-top: 8px;
            font-weight: 500;
        }

        .progress-info.not-completed {
            color: #999;
        }

        .text-card:not(.completed) {
            opacity: 0.9;
        }

        .text-card:not(.completed):hover {
            opacity: 1;
        }



        .page {
            display: none;
        }

        .page.active {
            display: block;
        }

        @media (max-width: 768px) {
            .levels-grid, .categories-grid, .texts-grid {
                grid-template-columns: 1fr;
            }
            
            .step-indicator {
                gap: 10px;
            }
            
            .step {
                padding: 8px 15px;
                font-size: 0.9em;
            }

            .back-button {
                position: relative;
                margin: 20px auto;
                display: inline-block;
            }

            .text-card {
                padding: 20px;
            }
        }
    </style>
    
    <!-- Progress Tracking -->
    <script src="js/progress-tracker.js"></script>
    <script src="js/progress-dashboard.js"></script>
</head>
<body>
    <a href="index.html" class="back-button">‚Üê –ù–∞ –≥–ª–∞–≤–Ω—É—é</a>
    <button class="back-button" id="backBtn" style="top: 20px; left: 200px; border: none; cursor: pointer;">‚Üê –ù–∞–∑–∞–¥</button>
    
    <div class="container">
        <div class="header">
            <h1>üìö ÌÖçÏä§Ìä∏Î°ú Î∞∞Ïö∞Í∏∞</h1>
            <div class="subtitle">–í—ã–±–µ—Ä–∏—Ç–µ —É—Ä–æ–≤–µ–Ω—å, –∫–∞—Ç–µ–≥–æ—Ä–∏—é –∏ —Ç–µ–∫—Å—Ç –¥–ª—è –∏–∑—É—á–µ–Ω–∏—è</div>
        </div>

        <!-- Progress Dashboard -->
        <div id="progressDashboard"></div>

        <div class="step-indicator">
            <div class="step active" id="step1">1. –í—ã–±–æ—Ä —É—Ä–æ–≤–Ω—è</div>
            <div class="step" id="step2">2. –ö–∞—Ç–µ–≥–æ—Ä–∏—è —Ç–µ–∫—Å—Ç–æ–≤</div>
            <div class="step" id="step3">3. –í—ã–±–æ—Ä —Ç–µ–∫—Å—Ç–∞</div>
            <div class="step" id="step4">4. –ß—Ç–µ–Ω–∏–µ</div>
        </div>

        <div class="breadcrumb" id="breadcrumb">
            –í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —É—Ä–æ–≤–µ–Ω—å –∫–æ—Ä–µ–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è -->
        <div class="page active" id="levelsPage">
            <div class="levels-grid">
                <div class="level-card level-1" onclick="selectLevel(1)">
                    <div class="level-number">1Í∏â</div>
                    <div class="level-name">–≠–ª–µ–º–µ–Ω—Ç–∞—Ä–Ω—ã–π</div>
                    <div class="level-korean">Ï¥àÍ∏â</div>
                    <div class="level-description">
                        –ê–ª—Ñ–∞–≤–∏—Ç —Ö–∞–Ω–≥—ã–ª—å, –±–∞–∑–æ–≤—ã–µ —Ñ—Ä–∞–∑—ã, –ø—Ä–æ—Å—Ç—ã–µ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
                    </div>
                    <div class="level-texts-count">8 —Ç–µ–∫—Å—Ç–æ–≤</div>
                </div>

                <div class="level-card level-2" onclick="selectLevel(2)">
                    <div class="level-number">2Í∏â</div>
                    <div class="level-name">–ë–∞–∑–æ–≤—ã–π</div>
                    <div class="level-korean">Í∏∞Ï¥à</div>
                    <div class="level-description">
                        –ü—Ä–æ—Å—Ç—ã–µ –¥–∏–∞–ª–æ–≥–∏, –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞, –±–∞–∑–æ–≤–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞
                    </div>
                    <div class="level-texts-count">12 —Ç–µ–∫—Å—Ç–æ–≤</div>
                </div>

                <div class="level-card level-3" onclick="selectLevel(3)">
                    <div class="level-number">3Í∏â</div>
                    <div class="level-name">–°—Ä–µ–¥–Ω–∏–π</div>
                    <div class="level-korean">Ï§ëÍ∏â</div>
                    <div class="level-description">
                        –ü–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ, —Ä–∞–±–æ—Ç–∞, —É—á–µ–±–∞, —Ö–æ–±–±–∏
                    </div>
                    <div class="level-texts-count">15 —Ç–µ–∫—Å—Ç–æ–≤</div>
                </div>

                <div class="level-card level-4" onclick="selectLevel(4)">
                    <div class="level-number">4Í∏â</div>
                    <div class="level-name">–°—Ä–µ–¥–Ω–µ-–ø—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</div>
                    <div class="level-korean">Ï§ëÍ≥†Í∏â</div>
                    <div class="level-description">
                        –°–ª–æ–∂–Ω–∞—è –≥—Ä–∞–º–º–∞—Ç–∏–∫–∞, –¥–µ–ª–æ–≤–æ–µ –æ–±—â–µ–Ω–∏–µ, –∫—É–ª—å—Ç—É—Ä–∞
                    </div>
                    <div class="level-texts-count">18 —Ç–µ–∫—Å—Ç–æ–≤</div>
                </div>

                <div class="level-card level-5" onclick="selectLevel(5)">
                    <div class="level-number">5Í∏â</div>
                    <div class="level-name">–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π</div>
                    <div class="level-korean">Í≥†Í∏â</div>
                    <div class="level-description">
                        –°–≤–æ–±–æ–¥–Ω–æ–µ –æ–±—â–µ–Ω–∏–µ, –∞–∫–∞–¥–µ–º–∏—á–µ—Å–∫–∏–µ —Ç–µ–∫—Å—Ç—ã, –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–∞—è –ª–µ–∫—Å–∏–∫–∞
                    </div>
                    <div class="level-texts-count">22 —Ç–µ–∫—Å—Ç–∞</div>
                </div>

                <div class="level-card level-6" onclick="selectLevel(6)">
                    <div class="level-number">6Í∏â</div>
                    <div class="level-name">–ú–∞—Å—Ç–µ—Ä—Å–∫–∏–π</div>
                    <div class="level-korean">ÏµúÍ≥†Í∏â</div>
                    <div class="level-description">
                        –£—Ä–æ–≤–µ–Ω—å –Ω–æ—Å–∏—Ç–µ–ª—è —è–∑—ã–∫–∞, –ª–∏—Ç–µ—Ä–∞—Ç—É—Ä–∞, —Å–ø–µ—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ç–µ–º—ã
                    </div>
                    <div class="level-texts-count">25 —Ç–µ–∫—Å—Ç–æ–≤</div>
                </div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ -->
        <div class="page" id="categoriesPage">
            <div class="categories-grid">
                <div class="category-card" onclick="selectCategory('personal')">
                    <div class="category-icon">üë§</div>
                    <div class="category-name">–û —Å–µ–±–µ</div>
                    <div class="category-korean">ÏûêÍ∏∞ÏÜåÍ∞ú</div>
                    <div class="category-description">
                        –†–∞—Å—Å–∫–∞–∑—ã –æ —Å–µ–º—å–µ, —Ö–æ–±–±–∏, –ø–ª–∞–Ω–∞—Ö, –ø–æ–≤—Å–µ–¥–Ω–µ–≤–Ω–æ–π –∂–∏–∑–Ω–∏
                    </div>
                    <div class="category-texts-count" id="personalCount">3 —Ç–µ–∫—Å—Ç–∞</div>
                </div>

                <div class="category-card" onclick="selectCategory('stories')">
                    <div class="category-icon">üìñ</div>
                    <div class="category-name">–†–∞—Å—Å–∫–∞–∑—ã</div>
                    <div class="category-korean">Ïù¥ÏïºÍ∏∞</div>
                    <div class="category-description">
                        –ö–æ—Ä–æ—Ç–∫–∏–µ –∏—Å—Ç–æ—Ä–∏–∏, —Å–∫–∞–∑–∫–∏, –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–µ —Å–æ–±—ã—Ç–∏—è
                    </div>
                    <div class="category-texts-count" id="storiesCount">2 —Ç–µ–∫—Å—Ç–∞</div>
                </div>

                <div class="category-card" onclick="selectCategory('culture')">
                    <div class="category-icon">üèõÔ∏è</div>
                    <div class="category-name">–ö—É–ª—å—Ç—É—Ä–∞</div>
                    <div class="category-korean">Î¨∏Ìôî</div>
                    <div class="category-description">
                        –ö–æ—Ä–µ–π—Å–∫–∏–µ —Ç—Ä–∞–¥–∏—Ü–∏–∏, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏, –∏—Å–∫—É—Å—Å—Ç–≤–æ, K-POP
                    </div>
                    <div class="category-texts-count" id="cultureCount">1 —Ç–µ–∫—Å—Ç</div>
                </div>

                <div class="category-card" onclick="selectCategory('science')">
                    <div class="category-icon">üî¨</div>
                    <div class="category-name">–ù–∞—É–∫–∞</div>
                    <div class="category-korean">Í≥ºÌïô</div>
                    <div class="category-description">
                        –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏, –æ—Ç–∫—Ä—ã—Ç–∏—è, –∑–¥–æ—Ä–æ–≤—å–µ, –ø—Ä–∏—Ä–æ–¥–∞
                    </div>
                    <div class="category-texts-count" id="scienceCount">0 —Ç–µ–∫—Å—Ç–æ–≤</div>
                </div>

                <div class="category-card" onclick="selectCategory('travel')">
                    <div class="category-icon">‚úàÔ∏è</div>
                    <div class="category-name">–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è</div>
                    <div class="category-korean">Ïó¨Ìñâ</div>
                    <div class="category-description">
                        –ì–æ—Ä–æ–¥–∞ –ö–æ—Ä–µ–∏, –¥–æ—Å—Ç–æ–ø—Ä–∏–º–µ—á–∞—Ç–µ–ª—å–Ω–æ—Å—Ç–∏, –ø—É—Ç–µ–≤—ã–µ –∑–∞–º–µ—Ç–∫–∏
                    </div>
                    <div class="category-texts-count" id="travelCount">0 —Ç–µ–∫—Å—Ç–æ–≤</div>
                </div>

                <div class="category-card" onclick="selectCategory('food')">
                    <div class="category-icon">üçú</div>
                    <div class="category-name">–ï–¥–∞</div>
                    <div class="category-korean">ÏùåÏãù</div>
                    <div class="category-description">
                        –ö–æ—Ä–µ–π—Å–∫–∞—è –∫—É—Ö–Ω—è, —Ä–µ—Ü–µ–ø—Ç—ã, —Ä–µ—Å—Ç–æ—Ä–∞–Ω—ã, —Ç—Ä–∞–¥–∏—Ü–∏–∏
                    </div>
                    <div class="category-texts-count" id="foodCount">0 —Ç–µ–∫—Å—Ç–æ–≤</div>
                </div>
            </div>
        </div>

        <!-- –°—Ç—Ä–∞–Ω–∏—Ü–∞ –≤—ã–±–æ—Ä–∞ —Ç–µ–∫—Å—Ç–∞ -->
        <div class="page" id="textsPage">
            <div class="texts-grid" id="textsGrid">
                <!-- –¢–µ–∫—Å—Ç—ã –±—É–¥—É—Ç –∑–∞–≥—Ä—É–∂–µ–Ω—ã –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ -->
            </div>
        </div>
    </div>

    <script>
        let selectedLevel = null;
        let selectedCategory = null;

        const categoryNames = {
            personal: '–û —Å–µ–±–µ',
            stories: '–†–∞—Å—Å–∫–∞–∑—ã',
            culture: '–ö—É–ª—å—Ç—É—Ä–∞',
            science: '–ù–∞—É–∫–∞',
            travel: '–ü—É—Ç–µ—à–µ—Å—Ç–≤–∏—è',
            food: '–ï–¥–∞'
        };

        // –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö —Ç–µ–∫—Å—Ç–æ–≤ —Å –ø—Ä–µ–≤—å—é
        const textsDatabase = {
            1: {
                personal: [
                    {
                        id: 'personal-1',
                        title: "–ú–æ–µ –∑–Ω–∞–∫–æ–º—Å—Ç–≤–æ —Å –ö–æ—Ä–µ–µ–π",
                        subtitle: "ÌïúÍµ≠Í≥ºÏùò Ï≤´ ÎßåÎÇ®",
                        preview: "–ò—Å—Ç–æ—Ä–∏—è –æ —Ç–æ–º, –∫–∞–∫ —è –≤–ø–µ—Ä–≤—ã–µ —É–∑–Ω–∞–ª –æ –∫–æ—Ä–µ–π—Å–∫–æ–º —è–∑—ã–∫–µ —á–µ—Ä–µ–∑ –¥–æ—Ä–∞–º—ã –∏ –Ω–∞—á–∞–ª –µ–≥–æ –∏–∑—É—á–∞—Ç—å. –†–∞—Å—Å–∫–∞–∑ –æ –ø–ª–∞–Ω–∞—Ö –ø–æ–µ—Ö–∞—Ç—å –≤ –°–µ—É–ª..."
                    },
                    {
                        id: 'personal-2',
                        title: "–ú–æ—è –∫–æ—Ä–µ–π—Å–∫–∞—è —Å–µ–º—å—è",
                        subtitle: "ÎÇòÏùò ÌïúÍµ≠ Í∞ÄÏ°±",
                        preview: "–ü—Ä–æ—Å—Ç–æ–π —Ä–∞—Å—Å–∫–∞–∑ –æ —Å–µ–º—å–µ –∏–∑ –ø—è—Ç–∏ —á–µ–ª–æ–≤–µ–∫. –ü–∞–ø–∞-–≤—Ä–∞—á, –º–∞–º–∞-—É—á–∏—Ç–µ–ª—å–Ω–∏—Ü–∞, —Å–µ—Å—Ç—Ä–∞ —É—á–∏—Ç—Å—è –≤ —É–Ω–∏–≤–µ—Ä—Å–∏—Ç–µ—Ç–µ. –ë–∞–±—É—à–∫–∞ –∂–∏–≤–µ—Ç –≤–º–µ—Å—Ç–µ —Å –Ω–∞–º–∏..."
                    },
                    {
                        id: 'personal-3',
                        title: "–ú–æ–∏ —É–≤–ª–µ—á–µ–Ω–∏—è –∏ —Ö–æ–±–±–∏",
                        subtitle: "ÎÇòÏùò Ï∑®ÎØ∏ÏôÄ Í¥ÄÏã¨ÏÇ¨",
                        preview: "–†–∞—Å—Å–∫–∞–∑ –æ –º–æ–∏—Ö –ª—é–±–∏–º—ã—Ö –∑–∞–Ω—è—Ç–∏—è—Ö: –º—É–∑—ã–∫–µ, —á—Ç–µ–Ω–∏–∏, —Å–ø–æ—Ä—Ç–µ. –û—Å–æ–±–µ–Ω–Ω–æ –ª—é–±–ª—é K-POP –∏ –∫–æ—Ä–µ–π—Å–∫–∏–µ —Ñ–∏–ª—å–º—ã..."
                    }
                ],
                stories: [
                    {
                        id: 'stories-1',
                        title: "–ó–∞–±–∞–≤–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –≤ –∫–∞—Ñ–µ",
                        subtitle: "Ïπ¥ÌéòÏóêÏÑú ÏùºÏñ¥ÎÇú Ïû¨ÎØ∏ÏûàÎäî Ïùº",
                        preview: "–í–µ—Å–µ–ª–∞—è –∏—Å—Ç–æ—Ä–∏—è –æ –ø–æ—Ö–æ–¥–µ –≤ –∫–æ—à–∞—á—å–µ –∫–∞—Ñ–µ, –≥–¥–µ –±–µ–ª–∞—è –∫–æ—à–∫–∞ —É—Å—Ç—Ä–æ–∏–ª–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π –ø–µ—Ä–µ–ø–æ–ª–æ—Ö, –∑–∞—Å—É–Ω—É–≤ –ª–∞–ø—É –≤ –∫–æ—Ñ–µ..."
                    },
                    {
                        id: 'stories-2',
                        title: "–í—Å—Ç—Ä–µ—á–∞ —Å –¥—Ä—É–≥–æ–º –≤ –ø–∞—Ä–∫–µ",
                        subtitle: "Í≥µÏõêÏóêÏÑú ÏπúÍµ¨ÏôÄÏùò ÎßåÎÇ®",
                        preview: "–í—á–µ—Ä–∞—à–Ω—è—è –≤—Å—Ç—Ä–µ—á–∞ —Å –¥—Ä—É–≥–æ–º –≤ –ø–∞—Ä–∫–µ. –•–æ—Ä–æ—à–∞—è –ø–æ–≥–æ–¥–∞, –¥–æ–ª–≥–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä, –≤–æ—Å–ø–æ–º–∏–Ω–∞–Ω–∏—è –æ —à–∫–æ–ª–µ..."
                    }
                ],
                culture: [
                    {
                        id: 'culture-1',
                        title: "–ö–æ—Ä–µ–π—Å–∫–∏–π –ù–æ–≤—ã–π –≥–æ–¥",
                        subtitle: "ÌïúÍµ≠Ïùò ÏÑ§ÎÇ†",
                        preview: "–†–∞—Å—Å–∫–∞–∑ –æ —Å–∞–º–æ–º –≤–∞–∂–Ω–æ–º –ø—Ä–∞–∑–¥–Ω–∏–∫–µ –≤ –ö–æ—Ä–µ–µ. –°–µ–º–µ–π–Ω—ã–µ —Ç—Ä–∞–¥–∏—Ü–∏–∏, –æ—Å–æ–±—ã–µ –±–ª—é–¥–∞, –ø–æ–¥–∞—Ä–∫–∏ –∏ –ø–æ–∫–ª–æ–Ω—ã —Å—Ç–∞—Ä—à–∏–º..."
                    }
                ],
                science: [
                    {
                        id: 'science-1',
                        title: "–£—Ä–æ–∫ –Ω–∞—É–∫–∏ –Ω–∞ –∫–æ—Ä–µ–π—Å–∫–æ–º",
                        subtitle: "ÌïúÍµ≠Ïñ¥Î°ú ÎßåÎÇòÎäî Í≥ºÌïô ÏàòÏóÖ",
                        preview: "–ü—Ä–µ–ø–æ–¥–∞–≤–∞—Ç–µ–ª—å –∫–æ—Ä–µ–π—Å–∫–æ–≥–æ –ø—Ä–æ–≤–æ–¥–∏—Ç –ø—Ä–æ—Å—Ç–æ–π –æ–ø—ã—Ç —Å –≤–æ–¥–æ–π –∏ –≤–æ–∑–¥—É—Ö–æ–º. –£—á–∏–º—Å—è –æ–ø–∏—Å—ã–≤–∞—Ç—å –Ω–∞–±–ª—é–¥–µ–Ω–∏—è –Ω–∞ –∫–æ—Ä–µ–π—Å–∫–æ–º —è–∑—ã–∫–µ..."
                    }
                ]
            }
        };

        function selectLevel(level, options = {}) {
            const { skipHistory = false } = options;
            selectedLevel = level;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —à–∞–≥–∏
            document.getElementById('step1').classList.add('completed');
            document.getElementById('step1').classList.remove('active');
            document.getElementById('step2').classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º breadcrumb
            document.getElementById('breadcrumb').textContent = `–£—Ä–æ–≤–µ–Ω—å ${level}Í∏â - –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç–µ–∫—Å—Ç–æ–≤`;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–µ–∫—Å—Ç–æ–≤ –¥–ª—è –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è
            updateCategoryCounts(level);
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.getElementById('levelsPage').classList.remove('active');
            document.getElementById('categoriesPage').classList.add('active');

            if (!skipHistory) {
                const newUrl = `${window.location.pathname}?level=${selectedLevel}`;
                window.history.pushState({}, '', newUrl);
            }
        }

        function updateCategoryCounts(level) {
            const levelData = textsDatabase[level] || {};
            
            document.getElementById('personalCount').textContent = 
                `${(levelData.personal || []).length} —Ç–µ–∫—Å—Ç–æ–≤`;
            document.getElementById('storiesCount').textContent = 
                `${(levelData.stories || []).length} —Ç–µ–∫—Å—Ç–æ–≤`;
            document.getElementById('cultureCount').textContent = 
                `${(levelData.culture || []).length} —Ç–µ–∫—Å—Ç–æ–≤`;
            document.getElementById('scienceCount').textContent = 
                `${(levelData.science || []).length} —Ç–µ–∫—Å—Ç–æ–≤`;
            document.getElementById('travelCount').textContent = 
                `${(levelData.travel || []).length} —Ç–µ–∫—Å—Ç–æ–≤`;
            document.getElementById('foodCount').textContent = 
                `${(levelData.food || []).length} —Ç–µ–∫—Å—Ç–æ–≤`;
        }

        function selectCategory(category, options = {}) {
            const { skipHistory = false } = options;

            if (!categoryNames[category]) {
                console.warn(`–ù–µ–∏–∑–≤–µ—Å—Ç–Ω–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏—è: ${category}`);
                return;
            }

            selectedCategory = category;
            
            // –û–±–Ω–æ–≤–ª—è–µ–º —à–∞–≥–∏
            document.getElementById('step2').classList.add('completed');
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step3').classList.add('active');
            
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ –≤—ã–±–æ—Ä—É —Ç–µ–∫—Å—Ç–∞
            document.getElementById('breadcrumb').textContent =
                `–£—Ä–æ–≤–µ–Ω—å ${selectedLevel}Í∏â ‚Üí ${categoryNames[category]} - –í—ã–±–µ—Ä–∏—Ç–µ —Ç–µ–∫—Å—Ç`;
            
            // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ç–µ–∫—Å—Ç—ã
            loadTextsPage();
            
            // –ü–µ—Ä–µ–∫–ª—é—á–∞–µ–º —Å—Ç—Ä–∞–Ω–∏—Ü—ã
            document.getElementById('categoriesPage').classList.remove('active');
            document.getElementById('textsPage').classList.add('active');

            if (!skipHistory) {
                const newUrl = `${window.location.pathname}?level=${selectedLevel}&category=${category}`;
                window.history.pushState({}, '', newUrl);
            }
        }

        function loadTextsPage() {
            const textsGrid = document.getElementById('textsGrid');
            const levelData = textsDatabase[selectedLevel] || {};
            const categoryTexts = levelData[selectedCategory] || [];
            
            if (categoryTexts.length === 0) {
                textsGrid.innerHTML = `
                    <div style="grid-column: 1/-1; text-align: center; padding: 40px;">
                        <div style="font-size: 3em; margin-bottom: 20px;">üìù</div>
                        <h3 style="color: white; margin-bottom: 15px;">–¢–µ–∫—Å—Ç—ã —Å–∫–æ—Ä–æ –ø–æ—è–≤—è—Ç—Å—è</h3>
                        <p style="color: rgba(255,255,255,0.8);">
                            –ú—ã –∞–∫—Ç–∏–≤–Ω–æ –¥–æ–±–∞–≤–ª—è–µ–º –Ω–æ–≤—ã–µ —Ç–µ–∫—Å—Ç—ã. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –¥—Ä—É–≥—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é!
                        </p>
                        <button onclick="goBack()" style="
                            background: rgba(255,255,255,0.2);
                            border: 1px solid rgba(255,255,255,0.3);
                            color: white;
                            padding: 12px 24px;
                            border-radius: 25px;
                            cursor: pointer;
                            margin-top: 20px;
                        ">‚Üê –ù–∞–∑–∞–¥ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º</button>
                    </div>
                `;
                return;
            }
            
            let html = '';
            categoryTexts.forEach((text, index) => {
                // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –¥–æ–±–∞–≤–∏—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ
                let imageHtml = '';
                if (text.id === 'personal-1') {
                    imageHtml = `
                        <div class="text-image">
                            <img src="images/—Ñ–ª–∞–≥.jpg" alt="Korean Flag" style="width: 60px; height: 40px; object-fit: cover; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.3);">
                        </div>
                    `;
                } else if (text.id === 'personal-2') {
                    imageHtml = `
                        <div class="text-image">
                            <img src="images/OIP.jpg" alt="Korean Family" style="width: 60px; height: 40px; object-fit: cover; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.3);">
                        </div>
                    `;
                } else if (text.id === 'personal-3') {
                    imageHtml = `
                        <div class="text-image">
                            <img src="images/OIP (1).jpg" alt="Korean Hobbies" style="width: 60px; height: 40px; object-fit: cover; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.3);">
                        </div>
                    `;
                } else if (text.id === 'culture-1') {
                    imageHtml = `
                        <div class="text-image">
                            <img src="images/–Ω–æ–≤—ã–π –≥–æ–¥.jpg" alt="Korean New Year" style="width: 60px; height: 40px; object-fit: cover; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,0.2); border: 1px solid rgba(255,255,255,0.3);">
                        </div>
                    `;
                }
                
                html += `
                    <div class="text-card" onclick="selectText('${text.id}')">
                        <div class="text-number">${index + 1}</div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <div style="flex: 1;">
                                <div class="text-title">${text.title}</div>
                                <div class="text-subtitle">${text.subtitle}</div>
                                <div class="text-preview">${text.preview}</div>
                            </div>
                            ${imageHtml}
                        </div>
                    </div>
                `;
            });
            
            textsGrid.innerHTML = html;
        }

        function selectText(textId) {
            // –û–±–Ω–æ–≤–ª—è–µ–º —à–∞–≥–∏
            document.getElementById('step3').classList.add('completed');
            document.getElementById('step3').classList.remove('active');
            document.getElementById('step4').classList.add('active');
            
            // –ü–µ—Ä–µ—Ö–æ–¥–∏–º –∫ —á—Ç–µ–Ω–∏—é –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ–∫—Å—Ç–∞
            window.location.href = `reading-content.html?level=${selectedLevel}&category=${selectedCategory}&textId=${textId}`;
        }

        function goBack() {
            // –ò—Å–ø–æ–ª—å–∑—É–µ–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—É—é –ª–æ–≥–∏–∫—É
            goBackToCategories();
        }

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏ –≤–æ–∑–≤—Ä–∞—â–µ–Ω–∏–∏
        function restoreStateFromURL() {
            const urlParams = new URLSearchParams(window.location.search);
            const levelParam = urlParams.get('level');
            const categoryParam = urlParams.get('category');

            if (levelParam) {
                const parsedLevel = parseInt(levelParam, 10);

                if (!isNaN(parsedLevel)) {
                    selectLevel(parsedLevel, { skipHistory: true });

                    if (categoryParam) {
                        selectCategory(categoryParam, { skipHistory: true });
                        console.log(`–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–æ: –£—Ä–æ–≤–µ–Ω—å ${selectedLevel}, –ö–∞—Ç–µ–≥–æ—Ä–∏—è ${selectedCategory}`);
                    }
                }
            }
        }

        // –£–º–Ω–∞—è –∫–Ω–æ–ø–∫–∞ –Ω–∞–∑–∞–¥ - —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ —Ç–µ–∫—É—â–µ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é
        function setupSmartBackButton() {
            const backBtn = document.getElementById('backBtn');
            
            backBtn.addEventListener('click', function(e) {
                e.preventDefault();
                
                // –û–ø—Ä–µ–¥–µ–ª—è–µ–º —Ç–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–æ –∞–∫—Ç–∏–≤–Ω–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ
                const levelsPageActive = document.getElementById('levelsPage').classList.contains('active');
                const categoriesPageActive = document.getElementById('categoriesPage').classList.contains('active');
                const textsPageActive = document.getElementById('textsPage').classList.contains('active');
                
                if (textsPageActive) {
                    // –ú—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã–±–æ—Ä–∞ —Ç–µ–∫—Å—Ç–æ–≤ ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
                    goBackToCategories();
                } else if (categoriesPageActive) {
                    // –ú—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã–±–æ—Ä–∞ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –∫ —É—Ä–æ–≤–Ω—è–º
                    goBackToLevels();
                } else if (levelsPageActive) {
                    // –ú—ã –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –≤—ã–±–æ—Ä–∞ —É—Ä–æ–≤–Ω—è ‚Üí –≤–æ–∑–≤—Ä–∞—Ç –Ω–∞ –≥–ª–∞–≤–Ω—É—é
                    window.location.href = 'index.html';
                }
            });
        }
        
        function goBackToCategories() {
            // –í–æ–∑–≤—Ä–∞—Ç –æ—Ç —Ç–µ–∫—Å—Ç–æ–≤ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º
            document.getElementById('step3').classList.remove('active');
            document.getElementById('step2').classList.add('active');
            document.getElementById('step2').classList.remove('completed');
            
            document.getElementById('breadcrumb').textContent = 
                `–£—Ä–æ–≤–µ–Ω—å ${selectedLevel}Í∏â - –í—ã–±–µ—Ä–∏—Ç–µ –∫–∞—Ç–µ–≥–æ—Ä–∏—é —Ç–µ–∫—Å—Ç–æ–≤`;
            
            document.getElementById('textsPage').classList.remove('active');
            document.getElementById('categoriesPage').classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º URL –±–µ–∑ category
            const newUrl = `${window.location.pathname}?level=${selectedLevel}`;
            window.history.pushState({}, '', newUrl);
        }
        
        function goBackToLevels() {
            // –í–æ–∑–≤—Ä–∞—Ç –æ—Ç –∫–∞—Ç–µ–≥–æ—Ä–∏–π –∫ —É—Ä–æ–≤–Ω—è–º
            document.getElementById('step2').classList.remove('active');
            document.getElementById('step1').classList.add('active');
            document.getElementById('step1').classList.remove('completed');
            
            document.getElementById('breadcrumb').textContent = 
                '–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—à —É—Ä–æ–≤–µ–Ω—å –∫–æ—Ä–µ–π—Å–∫–æ–≥–æ —è–∑—ã–∫–∞';
            
            document.getElementById('categoriesPage').classList.remove('active');
            document.getElementById('levelsPage').classList.add('active');
            
            // –û–±–Ω–æ–≤–ª—è–µ–º URL –±–µ–∑ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
            const newUrl = window.location.pathname;
            window.history.pushState({}, '', newUrl);
            
            // –°–±—Ä–∞—Å—ã–≤–∞–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ
            selectedLevel = null;
            selectedCategory = null;
        }

        // === PROGRESS TRACKING ===
        // –ú–∞—Ä–∫—É–≤–∞–Ω–Ω—è –∑–∞–≤–µ—Ä—à–µ–Ω–∏—Ö —Ç–µ–∫—Å—Ç—ñ–≤
        function markCompletedTexts() {
            if (typeof ProgressTracker === 'undefined') {
                console.warn('[WARN] ProgressTracker not loaded');
                return;
            }
            
            const progress = ProgressTracker.get();
            console.log('[OK] Loading progress for texts');
            
            // –ü—Ä–æ—Ö–æ–¥–∏–º–æ –ø–æ –≤—Å—ñ—Ö —Ç–µ–∫—Å—Ç–∞—Ö
            document.querySelectorAll('.text-card').forEach(card => {
                const onclick = card.getAttribute('onclick');
                if (!onclick) return;
                
                // –í–∏—Ç—è–≥—É—î–º–æ textId –∑ onclick="selectText('personal-1')"
                const match = onclick.match(/selectText\('([^']+)'\)/);
                if (!match) return;
                
                const textId = match[1];
                const key = `${selectedLevel}-${selectedCategory}-${textId}`;
                
                if (progress.completedTexts[key]) {
                    // –¢–µ–∫—Å—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–æ
                    card.classList.add('completed');
                    
                    // –î–æ–¥–∞—î–º–æ –≥–∞–ª–æ—á–∫—É
                    const badge = document.createElement('div');
                    badge.className = 'completion-badge';
                    badge.innerHTML = '&#10003;'; // HTML –∫–æ–¥ –≥–∞–ª–æ—á–∫–∏
                    card.style.position = 'relative';
                    card.insertBefore(badge, card.firstChild);
                    
                    // –î–æ–¥–∞—î–º–æ —ñ–Ω—Ñ–æ –ø—Ä–æ –ø—Ä–æ–≥—Ä–µ—Å
                    const progressInfo = document.createElement('div');
                    progressInfo.className = 'progress-info';
                    const data = progress.completedTexts[key];
                    const date = new Date(data.completedAt).toLocaleDateString('uk-UA');
                    progressInfo.innerHTML = `–ü—Ä–æ–π–¥–µ–Ω–æ ${date} | –†–µ–∑—É–ª—å—Ç–∞—Ç: ${data.quizScore}%`;
                    card.appendChild(progressInfo);
                    
                    console.log('[+] Marked completed:', textId);
                } else {
                    // –¢–µ–∫—Å—Ç –Ω–µ –∑–∞–≤–µ—Ä—à–µ–Ω–æ
                    const progressInfo = document.createElement('div');
                    progressInfo.className = 'progress-info not-completed';
                    progressInfo.innerHTML = '–ù–µ –ø—Ä–æ–π–¥–µ–Ω–æ';
                    card.appendChild(progressInfo);
                }
            });
            
            console.log('[OK] Completed texts marked');
        }

        // –í–∏–∫–ª–∏–∫–∞—î–º–æ –ø—ñ—Å–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—ñ–≤
        const originalLoadTextsPage = loadTextsPage;
        loadTextsPage = function() {
            originalLoadTextsPage.call(this);
            setTimeout(markCompletedTexts, 150); // –ù–µ–≤–µ–ª–∏–∫–∞ –∑–∞—Ç—Ä–∏–º–∫–∞ –¥–ª—è –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è –∫–∞—Ä—Ç–æ–∫
        };

        // –ê–Ω–∏–º–∞—Ü–∏–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        document.addEventListener('DOMContentLoaded', function() {
            // –†–µ–Ω–¥–µ—Ä –ø–∞–Ω–µ–ª—ñ –ø—Ä–æ–≥—Ä–µ—Å—É
            if (typeof ProgressDashboard !== 'undefined') {
                ProgressDashboard.render('progressDashboard');
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏—è
            restoreStateFromURL();
            
            // –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º —É–º–Ω—É—é –∫–Ω–æ–ø–∫—É –Ω–∞–∑–∞–¥
            setupSmartBackButton();
            
            const cards = document.querySelectorAll('.level-card');
            cards.forEach((card, index) => {
                card.style.opacity = '0';
                card.style.transform = 'translateY(30px)';
                setTimeout(() => {
                    card.style.transition = 'all 0.4s ease';
                    card.style.opacity = '1';
                    card.style.transform = 'translateY(0)';
                }, index * 100);
            });
        });
    </script>
</body>
</html>